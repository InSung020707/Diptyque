<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Diptyque</title>
	<link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="pic/extra/favicon.svg" type="image/png" sizes="32x32">
</head>
<body>
	<div class="section1">
		<div class="header">
			<a href="index.html" class="logo">DIPTYQUE</a>
			<div class="nav">
				<a href="#">FRAGRANCES</a>
  				<a href="#">CANDLES & HOME</a>
  				<a href="#">BATH AND BODY</a>
  				<a href="#">SERVICES</a>
			</div>
			<a href="#" class="toggle-menu">
               <img src="pic/menu.svg"> 
            </a>
		</div>
	</div>
	<div class="path">
		<a href="index.html">home</a>
		<img src="pic/Polygon.svg">
		<a href="index.html">best-seller</a>
		<img src="pic/Polygon.svg">
		<a href="custom.html">5 eaux de toilette (custom)</a>
	</div>
	<div class="select">
		<div class="box-n">Select 5 Eaux de toilette <div class="count">(0/5)</div>
		</div>
		<div class="item-selections">
			<div class="items">
				<div class="item">
					<div class="image-container">
					<img src="pic/sub/doson/doson.png" alt="doson.png" class=base-image>
					<img src="pic/sub/doson/doson'.png" alt="doson.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>doson (Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/tamdao/tamdao.png" alt="tamdao.png" class=base-image>
						<img src="pic/sub/tamdao/tamdao'.png" alt="tamdao.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>tamdao (Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/eau des sens/eau des sens.png" alt="eau des sens.png" class=base-image>
						<img src="pic/sub/eau des sens/eau des sens'.png" alt="eau des sens.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>eau des sens (Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/vetyvrio/vetyvrio.png" alt="vetyvrio.png" class=base-image>
						<img src="pic/sub/vetyvrio/vetyvrio'.png" alt="vetyvrio.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>vetyvrio(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/34/34.png" alt="34.png" class=base-image>
						<img src="pic/sub/34/34'.png" alt="34.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>34(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/eau duelle/eau duelle.png" alt="eau duelle.png" class=base-image>
						<img src="pic/sub/eau duelle/eau duelle'.png" alt="eau duelle.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>eau duelle(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
					<div class="item">
					<div class="image-container">
						<img src="pic/sub/eau papier/eau papier.png" alt="eau papier.png" class=base-image>
						<img src="pic/sub/eau papier/eau papier'.png" alt="eau papier.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>eau papier(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/eau rose/eau rose.png" alt="eau rose.png" class=base-image>
						<img src="pic/sub/eau rose/eau rose'.png" alt="eau rose.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>eau rose(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/lombre dans leau/lombre dans leau.png" alt="lombre dans leau.png" class=base-image>
						<img src="pic/sub/lombre dans leau/lombre dans leau'.png" alt="lombre dans leau.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>lombre dans leau(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/oyedo/oyedo.png" alt="oyedo.png" class=base-image>
						<img src="pic/sub/oyedo/oyedo'.png" alt="oyedo.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>oyedo(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="item">
					<div class="image-container">
						<img src="pic/sub/philosykos/philosykos.png" alt="philosykos.png" class=base-image>
						<img src="pic/sub/philosykos/philosykos'.png" alt="philosykos.png" class=hover-image>
					</div>
					<div class="mini-box">
						<h2>philosykos(Eau de parfum)</h2>
						<div class="check-b"></div>
					</div>
				</div>
				<div class="cursor-image">
					<img src="pic/cursor.svg" alt="cursor">
				</div>
			</div>
		</div>
		<div class="box">
			<img src="pic/bottles/empty.svg" alt="#">
			<img src="pic/bottles/empty.svg" alt="#">
			<img src="pic/bottles/empty.svg" alt="#">
			<img src="pic/bottles/empty.svg" alt="#">
			<img src="pic/bottles/empty.svg" alt="#">
		</div>
		<div class="button-w">
			<div class="reset">reset</div>
			<div class="cart">add to bag</div>
			<a class="to-home" href="index.html">return to home</a>
		</div>
	</div>
	<div class="final-logo">
		<a href="#">DIPTYQUE</a>
		<div class="text">
			<p>Sign up to our newsletter so we can welcome you to the<br> Diptyque community and keep you posted on new<br> launches, events, special offers and more.</p>
			<div class="button">discover &#62;</div>
		</div>
	</div>	
	<div class="footer">
		<div class="mini-foot1">
			<a href="#"><img src="https://i.postimg.cc/3wFt6W83/1-Zp-U8hn-Nxxo-A4m-Ix-U-8-N2-RQ-removebg-preview.png" alt="SNS"></a>	
			<p>Change Location : South Korea &#10148;</p>
		</div>
		<div class= mini-foot2>
			<p>Be the first to know about exciting new designs,<br> special events, store openings and much more.</p>
			<a href="#">Email</a>
			<div class="button">Sign Up</div>
		</div>
		<div class= mini-foot3>
			<b>© DIPTYQUE. 2024</b>
		</div>
	</div>
</body>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const checkboxes = document.querySelectorAll(".check-b");
  const boxImages = document.querySelectorAll(".box img");
  const reset = document.querySelector(".reset");
  const countElement = document.querySelector(".box-n .count");

  let currentIndex = 0;
  const maxNumber = boxImages.length;

  function updateCount() {
    countElement.textContent = `(${currentIndex}/${maxNumber})`;
  }

  updateCount();

  checkboxes.forEach((checkbox) => {
    checkbox.addEventListener("click", function () {
      const item = this.closest(".item");
      if (!item) {
        console.error(".이미지 없음.");
        return;
      }

      const isSelected = this.dataset.selected === "true";

      if (isSelected) {
        const imageAlt = this.dataset.alt;

        if (currentIndex > 0) {
          currentIndex--;
          boxImages[currentIndex].src = "pic/bottles/empty.svg";
          boxImages[currentIndex].alt = "#";
        }

        this.style.backgroundColor = "";
        this.dataset.selected = "false";
        updateCount();
        return;
      }

      if (currentIndex < maxNumber) {
        const imageElement = item.querySelector(".image-container img");
        const imageAlt = imageElement.alt;

        boxImages[currentIndex].src = `pic/bottles/${imageAlt}`;
        boxImages[currentIndex].alt = imageAlt;

        this.style.backgroundColor = "#202020";
        this.dataset.selected = "true";
        this.dataset.alt = imageAlt;

        currentIndex++;
        updateCount();
      } else {
        console.log("최대임");
      }
    });
  });

  // 리셋 버튼
  reset.addEventListener("click", function () {
    currentIndex = 0;

    boxImages.forEach((img) => {
      img.src = "pic/bottles/empty.svg";
      img.alt = "#";
    });

    checkboxes.forEach((checkbox) => {
      checkbox.style.backgroundColor = "";
      checkbox.dataset.selected = "false";
    });

    updateCount();
  });
});

// 마우스 커서 + 방향 전환(수정해야하는 부분)
const stall = document.querySelector('.item-selections');
const items = document.querySelector('.items');
const cursorImage = document.querySelector('.cursor-image');

const itemWidth = items.querySelector('.item').offsetWidth + parseInt(getComputedStyle(items).gap, 10);
let currentIndex = 0;


stall.addEventListener('mousemove', (e) => {
  cursorImage.style.display = 'block';

  const cursorWidth = cursorImage.offsetWidth;
  const cursorHeight = cursorImage.offsetHeight;


  cursorImage.style.left = `${e.pageX - cursorWidth / 2}px`;
  cursorImage.style.top = `${e.pageY - cursorHeight / 2}px`;
});


stall.addEventListener('mouseleave', () => {
  cursorImage.style.display = 'none';
});

stall.addEventListener('click', (e) => {
  const stallRect = stall.getBoundingClientRect();
  const clickPositionX = e.clientX - stallRect.left;

  if (clickPositionX < stallRect.width / 2) {
    currentIndex--;
    if (currentIndex < 0) {
      currentIndex = 0;
    }
  } else {
    currentIndex++;
    if (currentIndex >= items.children.length - 4) {
      currentIndex = 0;
    }
  }

  items.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
});



</script>
</html>
